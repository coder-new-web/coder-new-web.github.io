import{_ as p}from"./plugin-vue_export-helper-c27b6911.js";import{r as l,o as c,c as r,a as d,b as n,e,w as t,d as s,f as i}from"./app-af427ef1.js";const u="/assets/use-xftp-40d6d3ec.png",m="/assets/whereis-nginx-7fdb3e2a.png",g="/assets/xftp-nginx-html-location-d7fa14b8.png",v="/assets/upload-html-bd628d36.png",h="/assets/reploy-success-react-197c793b.png",k="data:image/png;base64,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",f="/assets/nuxt-app-location-340f2554.png",b="/assets/access-nuxt-app-location-98ef9166.png",x="/assets/see-host-48183a6c.png",y="/assets/start-pm2-603d5e8d.png",I={},j=n("p",null,"通过此文章，你将学会如何利用XFTP部署你的静态网站。",-1),E=n("p",null,"可以用作部署Web的服务器有很多，如Tomcat、Nginx，Node、Apache、Cloudflare、OpenResty等",-1),N=n("p",null,"这里我们以常用的Nginx举例，Nginx适用于多个HTML构成的网站、或者通过webpack、vite等构建工具打包后的网站，不适用于部署使用。",-1),R=n("p",null,"在了解此文章之前，你需要具备的前置知识：",-1),S={href:"https://www.xshell.com/zh/free-for-home-school/",target:"_blank",rel:"noopener noreferrer"},G=i(`<h2 id="准备打包后的网站" tabindex="-1"><a class="header-anchor" href="#准备打包后的网站" aria-hidden="true">#</a> 准备打包后的网站</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># step 1</span>
<span class="token function">npm</span> init vite react-app -- <span class="token parameter variable">--template</span> react

<span class="token comment"># step 2</span>
<span class="token builtin class-name">cd</span> react-app <span class="token operator">&amp;&amp;</span> <span class="token function">npm</span> <span class="token function">install</span>

<span class="token comment"># step 3 </span>
<span class="token function">npm</span> run build
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以上命令构建了一个react框架打包后的项目</p><h2 id="利用xftp上传打包后的项目" tabindex="-1"><a class="header-anchor" href="#利用xftp上传打包后的项目" aria-hidden="true">#</a> 利用XFTP上传打包后的项目</h2>`,4),L={href:"https://www.xshell.com/zh/free-for-home-school/",target:"_blank",rel:"noopener noreferrer"},T=n("br",null,null,-1),X=n("img",{src:u,alt:"",loading:"lazy"},null,-1),U=i('<li>将本地打包好的页面上传到服务器上的nginx前，你需要知道服务器的nginx安装在哪里的，如果不知道可以利用<code>whereis nginx</code>命令回车后来查看：如下图：<br><img src="'+m+'" alt="" loading="lazy"><br> 上图的空格左边是nginx的根目录，右边是nginx执行文件，运行这个可以直接运行起来nginx。</li><li>利用XSHELL知道nginx安装目录后，在XFTP进入nginx根目录下的html文件夹下：<br><img src="'+g+'" alt="" loading="lazy"></li><li>如下图上传文件到服务器<br><img src="'+v+'" alt="" loading="lazy"></li><li>运行nginx，然后在本地浏览器中输入你的服务器公网IP地址，域名备案了且添加解析记录了可以用域名访问。</li><li>如果没有react和vite的logo证明没有成功，需要检查上面的步骤。如果出来了，证明部署成功了。<br><img src="'+h+'" alt="" loading="lazy"></li>',5),w=n("h2",{id:"打包ssr框架构建的网站",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#打包ssr框架构建的网站","aria-hidden":"true"},"#"),s(" 打包SSR框架构建的网站")],-1),O={href:"https://nuxt.com/docs/getting-started/installation",target:"_blank",rel:"noopener noreferrer"},B={href:"https://codeload.github.com/nuxt/starter/tar.gz/refs/heads/v3",target:"_blank",rel:"noopener noreferrer"},Y={href:"https://github.com/nuxt/starter/tree/v3",target:"_blank",rel:"noopener noreferrer"},J=i(`<ol><li>安装依赖并打包</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># step 1 确保node版本大于16.10.0</span>
<span class="token function">node</span> <span class="token parameter variable">-v</span>

<span class="token comment"># step 2 进入你下载的nuxt3文件目录，安装依赖，这个过程会非常漫长，需要耐心等待</span>
<span class="token function">npm</span> <span class="token function">install</span>

<span class="token comment"># step 3 安装好后依赖，进行打包</span>
<span class="token function">npm</span> run build

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>按以上步骤完成后，可以看到项目根目录下多个一个<code>.output</code>文件夹，进入该文件夹，在此文件夹新建<code>ecosystem.config.js</code>，并添加以下代码：</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">apps</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;NuxtAppName&quot;</span><span class="token punctuation">,</span><span class="token comment">// 进程名</span>
      <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token string">&quot;80&quot;</span><span class="token punctuation">,</span><span class="token comment">// 进程端口号</span>
      <span class="token literal-property property">exec_mode</span><span class="token operator">:</span> <span class="token string">&quot;cluster&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 运行模式</span>
      <span class="token comment">// instances: &quot;max&quot;, // 分配的线程，会自动根据CPU的内核数量进行分配</span>
      <span class="token literal-property property">script</span><span class="token operator">:</span> <span class="token string">&quot;././server/index.mjs&quot;</span><span class="token punctuation">,</span> <span class="token comment">//运行的js文件路径。</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>文件层级可查看下图，以确保文件层级正确：<br><img src="`+k+'" alt="" loading="lazy"></p><ol start="3"><li>然后你可以将<code>.output</code>文件夹更改下文件名，比如<code>nuxt-app</code>，就可以按上述介绍到的方法，将<code>nuxt-app</code>文件夹上传到服务器，上传路径见下：<br><img src="'+f+'" alt="" loading="lazy"></li><li>在XSHELL先安装pm2，如果不知道装没装可以使用<code>pm2 -v</code>命令看看能不能打印的出版本号，如果不能就安装：<code>npm i pm2 -g</code>。</li><li>进入<code>ecosystem.config.js</code>所在的路径：<br><img src="'+b+'" alt="" loading="lazy"></li><li>由于<code>ecosystem.config.js</code>里配置端口号为80，因此我们先看看80端口有没有占用，查看80端口有没有占用：<code>netstat -ntlp |grep 80</code>，见下图：<br><img src="'+x+'" alt="" loading="lazy"><br> 如果是跟nginx冲突，nginx停止运行命令：<code>nginx -s quit</code>。当然如果不是nginx，就像上图的<code>kill 1731096</code>就可以杀死80端口的进程</li><li>运行项目<code>pm2 start ecosystem.config.js</code>，如下图：<br><img src="'+y+'" alt="" loading="lazy"></li><li>此时可以在自己电脑浏览器通过公网IP或域名进行访问。</li></ol><p>至此，你学会了nuxt3的node-server部署方式。nuxt部署方式还有很多，部署方式有：服务端渲染部署、静态应用部署、单页面应用部署。nuxt2和nuxt3部署方式也稍有不同。</p><p>更多部署方式查看本博客相关文章。</p>',8);function H(K,z){const a=l("RouterLink"),o=l("ExternalLinkIcon");return c(),r("div",null,[j,E,d(" more "),N,R,n("ol",null,[n("li",null,[e(a,{to:"/devops/centos/centos-Introduction.html"},{default:t(()=>[s("了解基本的Centos操作命令")]),_:1})]),n("li",null,[e(a,{to:"/devops/centos/how-to-connect-server.html"},{default:t(()=>[s("如何使用XSHELL远程连接服务器")]),_:1})]),n("li",null,[e(a,{to:"/devops/nginx.html"},{default:t(()=>[s("nginx的基本使用")]),_:1})]),n("li",null,[e(a,{to:"/devops/centos/centos-install-nginx.html"},{default:t(()=>[s("如何使用在Centos上安装nginx")]),_:1})]),n("li",null,[s("安装好"),n("a",S,[s("XFTP"),e(o)])])]),n("p",null,[s("若了解如何部署SSR框架打包构建的网站，如Nuxt、Next，则需要了解的前置知识："),e(a,{to:"/devops/centos/centos-install-node.html"},{default:t(()=>[s("Centos安装node")]),_:1})]),G,n("ol",null,[n("li",null,[s("打开连接的XSHELL，可以看到XFTP的图标，使用这个需要你提前安装好"),n("a",L,[s("XFTP"),e(o)]),s("才能使用。如下图。"),T,X]),U]),w,n("p",null,[s("学习此小节请确保你的服务器安装了node，如果没有你可以查看"),e(a,{to:"/devops/centos/centos-install-node.html"},{default:t(()=>[s("此教程")]),_:1}),s("。")]),n("p",null,[s("这里我选择初始化"),n("a",O,[s("Nuxt3"),e(o)]),s("项目。但是由于官方给的方法初始化项目会失败，可以在此直接"),n("a",B,[s("下载模板"),e(o)])]),n("p",null,[s("或者进入"),n("a",Y,[s("此网页"),e(o)]),s("下载代码，即为Nuxt3模板。")]),J])}const M=p(I,[["render",H],["__file","how-to-reploy-your-website.html.vue"]]);export{M as default};
