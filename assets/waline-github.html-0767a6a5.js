import{_ as a}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as n,c,b as e,d as l,e as s,f as t}from"./app-af427ef1.js";const r="/assets/waline-interface-1deb6440.png",d="/assets/GitHub-settings-34d18b45.png",p="/assets/Register-oauth-app-0f5c9e17.png",u="/assets/my-oauth-app-bd342a96.png",h={},g=t('<h2 id="问题背景" tabindex="-1"><a class="header-anchor" href="#问题背景" aria-hidden="true">#</a> 问题背景</h2><figure><img src="'+r+`" alt="waline评论界面" tabindex="0" loading="lazy"><figcaption>waline评论界面</figcaption></figure><p>waline评论在选择以GitHub方式登录时出现报错信息：</p><div class="language-tex line-numbers-mode" data-ext="tex"><pre class="language-tex"><code><span class="token punctuation">{</span>&quot;errno&quot;:500,&quot;errmsg&quot;:&quot;Not initialized&quot;<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>初步分析原因：GitHub没有开放第三方授权登录，所以登录不上去waline评论系统</p><h2 id="解决方式" tabindex="-1"><a class="header-anchor" href="#解决方式" aria-hidden="true">#</a> 解决方式</h2>`,6),_={href:"https://cloud.tencent.com/developer/article/2067289",target:"_blank",rel:"noopener noreferrer"},b=t('<ul><li><p>GitHub注册用户凭证</p><ol><li><p>GitHub中点击<code>Settings</code><br><img src="'+d+'" alt="GitHub-Settings" loading="lazy"></p></li><li><p>下滑找到<code>Developer settings</code>，然后选择<code>OAuth Apps</code>，然后点击<code>New OAuth App</code>。</p></li><li><p>注册OAuth application<br><img src="'+p+'" alt="register a new OAuth application" loading="lazy"></p></li></ol><p><code>Application name</code>，应用名字，虽然说可以随便取，但是最好还是取一个易于区分的名字。</p><p><code>Application name</code>，你的博客链接。</p><p><code>Authorization callback URL</code>，你的评论链接，格式为：<code>https://xxx.com/oauth/github</code>，也就是最后加上<code>/oauth/github</code>，然后点击<code>Register application</code>。</p><ol start="4"><li><p>你刚刚注册好的可以通过第二步找到对应的位置。<br><img src="'+u+'" alt="my oauth app" loading="lazy"></p></li><li><p>点进去找到<code>Client ID</code>和<code>Client secrets</code>，如果没有<code>Client secrets</code>可以点击右侧的<code>Generate a new client secret</code>。<code>Client ID</code>和<code>Client secrets</code>需要记录一下，待会用的到。</p></li></ol></li><li><p>Vercel将<code>Client ID</code>和<code>Client secrets</code>添加到项目环境变量里面去，参考下面的key和value。</p><table><thead><tr><th style="text-align:center;">key</th><th style="text-align:center;">value</th></tr></thead><tbody><tr><td style="text-align:center;">GITHUB_ID</td><td style="text-align:center;">对应第三步的 Client ID</td></tr><tr><td style="text-align:center;">GITHUB_SECRET</td><td style="text-align:center;">对应第三步的 Client secrets</td></tr></tbody></table></li><li><p>环境变量添加成功后，需要重启评论系统。注意：Vercel部署你的静态网站跟你部署的评论系统是两个东西</p></li><li><p>等待重启完，发现waline登录自己的GitHub进行评论就没问题了。</p></li></ul>',1);function m(x,f){const i=o("ExternalLinkIcon");return n(),c("div",null,[g,e("p",null,[e("a",_,[l("参考解决方式"),s(i)])]),b])}const w=a(h,[["render",m],["__file","waline-github.html.vue"]]);export{w as default};
