import{_ as e}from"./plugin-vue_export-helper-c27b6911.js";import{o as c,c as d,f as o}from"./app-af427ef1.js";const r={},i=o('<p>例如输入<code>npm run serve</code>回车，这时候会在我们在<code>package.json</code>文件下执行<code>script</code>属性的<br><code>vue-cli-service serve</code>这条指令，那为什么不能执行<code>vue-cli-service serve</code>这条指令呢？</p><p>当我们直接运行<code>vue-cli-service serve</code>这条指令时，就会提示报错信息：<code>zsh:command not found:vue-cli-service</code>。</p><p>此时问题：当我们执行<code>npm run serve</code>的时候实际执行的是<code>vue-cli-service serve</code>，但是直接执行 <code>vue-cli-service serve</code>就会报错。原因是当我们执行<code>npm install</code>的时候下载了。<br><code>node_modules</code>文件夹下的<code>.bin</code>文件下，比如<code>vue-cli-service</code>右侧有个箭头，这实际就是此文件的软链接脚本文件。<br> 当我们执行<code>npm run serve</code>的时候，真实执行的是<code>./node_moudes/.bin/vue-cli-service serve</code>或<code>node_moudes/.bin/vue-cli-service serve</code>这条指令。如果我们直接执行<code>vue-cli-service serve</code>这条执行，系统会默认从系统的环境变量从去查找，而不是在当前目录下去执行<code>node_modules</code>文件夹的<code>.bin</code>文件夹下的<code>vue-cli-service</code>去执行<code>serve</code>，也就是说为什么直接运行会报错的原因是：直接运行默认是从系统环境变量里去找的，而不是在当前项目的根目录下的<code>node_modules</code>的<code>.bin</code>文件夹去执行对应的软链接。<br><code>npm run </code>的时候，会把<code>node_modules</code>下的<code>.bin</code>文件夹的子目录暂时加入到PATH变量，执行结束后，再将PATH变量恢复原样。</p><p>软链接脚本文件指向哪里？<br><code>vue-cli-service</code>这条指令在<code>package-lock.json</code>可以找到对应关系<code>bin/vue-cli-service.js</code>，这个是对应模块下的<code>bin</code>文件夹，此文件夹下有js文件<br> 因此串联起来关系就是，当我们执行<code>npm run xxx</code>的时候，首先是从<code>node_modules</code>文件夹下的<code>.bin</code>文件夹下查找对应的软链接，在<code>package-lock.json</code>的文件夹下可以找到这条指令实际执行的js文件（大多数是<code>bin</code>文件夹下）</p><h3 id="cmd窗口可执行命令的逻辑" tabindex="-1"><a class="header-anchor" href="#cmd窗口可执行命令的逻辑" aria-hidden="true">#</a> cmd窗口可执行命令的逻辑？</h3><ol><li>它首先会判断这个文件名是否包含绝对路径，如果包含绝对路径，那它只会在绝对路径中寻找。此时如果没找到，会直接报错。</li><li>如果不包含绝对路径，会在当前路径下寻找。</li><li>如果没有找到，就会在操作系统的内置命令中找，如：<code>cd</code>、<code>dir</code>、<code>ls</code>、<code>cls</code>等</li><li>如果还没找到，就会去环境变量Path中记载的目录中找到。如果没找到，cmd就会报错。</li></ol><h3 id="可在cmd内直接执行的文件类型有哪些" tabindex="-1"><a class="header-anchor" href="#可在cmd内直接执行的文件类型有哪些" aria-hidden="true">#</a> 可在cmd内直接执行的文件类型有哪些？</h3><p><code>.exe</code>、<code>.cmd</code></p><h3 id="为什么直接输入npm执行不会报错" tabindex="-1"><a class="header-anchor" href="#为什么直接输入npm执行不会报错" aria-hidden="true">#</a> 为什么直接输入npm执行不会报错？</h3><p>因为node路径配置到系统环境变量中去的话，node路径下有<code>npm</code>和<code>npm.cmd</code>，所以在终端直接输入<code>npm</code>并不会报错。</p><h3 id="npm-run-serve发生了什么" tabindex="-1"><a class="header-anchor" href="#npm-run-serve发生了什么" aria-hidden="true">#</a> npm run serve发生了什么？</h3><h3 id="为什么直接执行vue-cli-service会报错" tabindex="-1"><a class="header-anchor" href="#为什么直接执行vue-cli-service会报错" aria-hidden="true">#</a> 为什么直接执行vue-cli-service会报错？</h3><h3 id="什么是软链接" tabindex="-1"><a class="header-anchor" href="#什么是软链接" aria-hidden="true">#</a> 什么是软链接？</h3><h3 id="bin文件夹下的软链接类型有哪些" tabindex="-1"><a class="header-anchor" href="#bin文件夹下的软链接类型有哪些" aria-hidden="true">#</a> .bin文件夹下的软链接类型有哪些？</h3><p><code>vite</code>——unit平台、<code>vite.cmd</code>——cmd窗口、<code>vite.ps1</code>——powerShell</p><h3 id="" tabindex="-1"><a class="header-anchor" href="#" aria-hidden="true">#</a></h3><h3 id="vue-cli-service的软链接实际执行的是什么-为什么不能直接执行" tabindex="-1"><a class="header-anchor" href="#vue-cli-service的软链接实际执行的是什么-为什么不能直接执行" aria-hidden="true">#</a> vue-cli-service的软链接实际执行的是什么？为什么不能直接执行？</h3><h3 id="总结npm-run-xxx发生了什么" tabindex="-1"><a class="header-anchor" href="#总结npm-run-xxx发生了什么" aria-hidden="true">#</a> 总结npm run xxx发生了什么？</h3>',18),n=[i];function a(s,h){return c(),d("div",null,n)}const u=e(r,[["render",a],["__file","npm-run-xxx.html.vue"]]);export{u as default};
